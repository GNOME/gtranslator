#
# The RPM spec file from Dag Wieers <dag@wieers.com> as he done RPMs with it, it shall
#  work and we have got an updated RPM spec, yeah!
#
Summary: A comfortable po file editor with many bells and whistles.
Name: gtranslator
Version: @VERSION@
Release: 1
License: GPL
Group: Development/Tools
URL: http://www.gtranslator.org

Packager: Dag Wieers <dag@wieers.com>
Vendor: Dag Apt Repository, http://dag.wieers.com/apt/

Source:	http://www.gtranslator.org/download/releases/%{version}/%{name}-%{version}.tar.gz
BuildRoot: %{_tmppath}/root-%{name}-%{version}
Prefix: %{_prefix}

Prereq: scrollkeeper >= 0.1.4
BuildRequires: gal-devel >= 0.10.99, gnome-vfs-devel >= 0.4.1, imlib-devel
BuildRequires: GConf-devel >= 1.0, glib-devel >= 1.2.8, gtk+-devel >= 1.2.8
BuildRequires: gnome-libs-devel >= 1.2.8, ORBit-devel >= 0.5.3, libxml-devel => 1.8.9
BuildRequires: docbook-utils, docbook-dtd31-sgml

%description
gtranslator is a comfortable po file editor with many bells and whistles.
It features many useful function which ease the work of translators of po
files immenantly.

%prep
%setup

%build
%configure \
	--enable-mime-bind="yes" \
	--with-gconf
%{__make} %{?_smp_mflags}
%{__make} %{?_smp_mflags} check

%install
%{__rm} -rf %{buildroot}
%makeinstall \
	SC_OMFDIR="%{buildroot}%{_datadir}/omf"
%find_lang %{name}

%post -p /sbin/ldconfig
scrollkeeper-update -q

%postun -p /sbin/ldconfig
scrollkeeper-update -q

%clean
%{__rm} -rf %{buildroot}

%files -f %{name}.lang
%defattr(-, root, root, 0755)
%doc AUTHORS COPYING ChangeLog DEPENDS INSTALL NEWS README THANKS TODO
%doc %{_datadir}/gnome/help/%{name}/
%doc %{_mandir}/man1/*
%{_bindir}/*
%{_datadir}/%{name}/
%{_datadir}/gnome/apps/Development/*.desktop
%{_datadir}/mime-info/*
%{_datadir}/omf/%{name}/
%{_datadir}/pixmaps/*.png
%{_datadir}/pixmaps/%{name}/

%changelog
* Sat Jun 14 2003 Dag Wieers <dag@wieers.com> - 0.99-0
- Updated to release 0.99.

* Tue Mar 18 2003 Dag Wieers <dag@wieers.com> - 0.43-0
- Initial package. (using DAR)
